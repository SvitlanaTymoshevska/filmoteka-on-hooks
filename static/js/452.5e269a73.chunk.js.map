{"version":3,"file":"static/js/452.5e269a73.chunk.js","mappings":"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","sources":["pages/Home/Home.styled.jsx","components/FilmGallery/FilmGallery.Styled.jsx","components/FilmCard/FilmCard.styled.jsx","components/FilmCard/FilmCard.jsx","components/FilmGallery/FilmGallery.jsx","components/Pagination/usePagination.jsx","components/Pagination/Pagination.styled.jsx","components/Pagination/Pagination.jsx","pages/Home/Home.jsx","services/api-films-service.js"],"sourcesContent":["import styled from \"styled-components\";\n\nexport const Wrapper = styled.section`\n  position: relative;\n  flex-grow: 1;\n`;","import styled from \"styled-components\";\nimport { theme } from \"constants/theme\";\n\nexport const Container = styled.div`\n  max-width: 320px;\n  margin: 0 auto;\n  padding: 20px 20px 40px;\n  line-height: 1.35;\n\n  @media screen and (min-width: 768px) {\n    max-width: 768px;\n    padding: 60px 32px 60px;\n  }\n\n  @media screen and (min-width: 1280px) {\n    max-width: 1280px;\n    font-size: 20px;\n    line-height: 1.2;\n  }\n`;\n\nexport const Message = styled.p`\n  position: absolute;\n  top: -60px;\n  left: 50%;\n  transform: translate(-50%,-50%);\n  display: block; \n  text-align: center;\n  \n  color: ${theme.colors.warning};\n  font-weight: 400;\n  font-size: 14px;\n\n  @media screen and (min-width: 768px) {\n    top: -48px;\n  }\n`;\n\nexport const GalleryTitle = styled.h2`\n  display: none;\n`;\n\nexport const Gallery = styled.ul`\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n\n  @media screen and (min-width: 768px) {\n    flex-direction: row;\n    flex-wrap: wrap;\n    gap: 32px;\n  }\n\n  @media screen and (min-width: 1280px) {\n    column-gap: 16px;\n  }\n`;\n","import styled from \"styled-components\";\nimport { Link } from \"react-router-dom\";\n\nimport { theme } from \"constants/theme\";\n\nexport const Card = styled.li`\n  transition: box-shadow ${theme.transition.durationFunction};\n  width: 100%;\n\n  @media screen and (min-width: 768px) {\n    width: calc((100% - 32px) / 2);\n  }\n\n  @media screen and (min-width: 1280px) {\n    width: calc((100% - 32px) / 3);\n  }\n\n  &:hover {\n    cursor: pointer;\n    box-shadow: 0px 1px 1px rgba(0, 0, 0, 0.12),\n      0px 4px 4px rgba(0, 0, 0, 0.06), 1px 4px 6px rgba(0, 0, 0, 0.16);\n  }\n`;\nexport const StyledLink = styled(Link)`\n  color: ${theme.colors.secondary};\n`;\n\nexport const Img = styled.img`\n  display: block;\n  width: 100%;\n  height: 398px;\n  border-radius: 5px;\n  margin-bottom: 10px;\n  object-fit: cover;\n\n  @media screen and (min-width: 768px) {\n    height: 455px;\n  }\n\n  @media screen and (min-width: 1280px) {\n    margin-bottom: 12px;\n    height: 574px;\n  }\n`;\n\nexport const Plug = styled.div`\n  height: 398px;\n  margin-bottom: 10px;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ${theme.colors.backgroundHeader};\n\n  @media screen and (min-width: 768px) {\n    height: 455px;\n  }\n\n  @media screen and (min-width: 1280px) {\n    margin-bottom: 12px;\n    height: 574px;\n  }\n`;\n\nexport const Info = styled.div`\n  padding: 0px 5px 5px;\n`;\n\nexport const Title = styled.h2`\n  margin: 0;\n  text-transform: uppercase;\n  line-height: 1.35;\n  font-size: 12px;\n  font-weight: 700;\n\n  @media screen and (min-width: 1280px) {\n    font-size: 20px;\n    line-height: 1.2;\n  }\n`;\n\nexport const Genres = styled.p`\ncolor: ${theme.colors.accent};\n`;","import PropTypes from \"prop-types\";\nimport { useLocation } from \"react-router-dom\";\nimport { Card, StyledLink, Img, Plug, Info, Title, Genres } from \"components/FilmCard/FilmCard.styled\";\n\nconst genresList = (filmGenresID) => {\n  const genresArray = JSON.parse(localStorage.getItem('genres'));\n  if (!genresArray) {\n      return \"unknown\";\n  }\n  \n  const filtredGenresArray = filmGenresID.map(genreID => genresArray.find(genre => genre.id === genreID).name);\n  let cuttedGenresArray = [];\n\n  if (filtredGenresArray.length > 2) {\n    cuttedGenresArray = [...filtredGenresArray.slice(0, 2), \"Otheres\"];\n  } else {\n    cuttedGenresArray = [...filtredGenresArray];\n  };\n\n  return cuttedGenresArray.join(\", \");\n}\n\nconst year = (release_date) => {\n  let year = '';\n  if (!release_date) {\n    return year;\n  }\n  year = ' | ' + release_date?.slice(0, 4);\n  return year;\n}\n\nexport const FilmCard = ({ film }) => {\n  const { poster_path, title, genre_ids, release_date, id } = film;\n  const location = useLocation();\n  \n  const poster = poster_path ? (\n    <Img\n          srcSet={`\n              https://image.tmdb.org/t/p/w300/${poster_path}     300w,\n              https://image.tmdb.org/t/p/w500/${poster_path}     500w,\n              https://image.tmdb.org/t/p/w780/${poster_path}     780w,\n              https://image.tmdb.org/t/p/w1280/${poster_path}    1280w,\n              https://image.tmdb.org/t/p/original/${poster_path} 2000w\n          `}\n          loading=\"lazy\"\n          src={`https://image.tmdb.org/t/p/w300/${poster_path}`}\n          alt={`Poster of the film ${title}`}\n          sizes=\"(max-width: 320px) 280px, (max-width: 768px) 340px, 400px\"\n    />\n  ) : <Plug>Poster not found</Plug>;   \n\n  return (\n    <Card>\n      <StyledLink to={`film/${id}`} state={{ from: location }}>\n        {poster}\n        <Info>\n          <Title>{title}</Title>\n          <Genres>{genresList(genre_ids)}{year(release_date)}</Genres>\n        </Info>\n      </StyledLink>\n    </Card>\n  );\n};\n\nFilmCard.propType = {\n  film: PropTypes.shape({\n    genre_ids: PropTypes.arrayOf(PropTypes.number),\n    poster_path: PropTypes.string,\n    release_date: PropTypes.string,\n    title: PropTypes.string.isRequired,\n    id: PropTypes.string.isRequired,\n  }),\n};","import PropTypes from \"prop-types\";\nimport {Container, Message, GalleryTitle, Gallery } from \"components/FilmGallery/FilmGallery.Styled\";\nimport { FilmCard } from \"components/FilmCard/FilmCard\";\n\nexport const FilmGallery = ({error, films}) => {\n    return (\n        <>\n            <GalleryTitle>Films gallery</GalleryTitle>\n            {error &&\n                <Message>\n                    Search result not successful. Enter the correct movie name and repeat.\n                </Message>}            \n            <Container>\n                <Gallery>\n                    {films.map((film) => { \n                        return (\n                            <FilmCard\n                                key={film.id}\n                                film={film}\n                            />\n                        )              \n                    })}\n                </Gallery>\n            </Container>\n        </>\n    );\n};\n\nFilmGallery.propType = {\n    error: PropTypes.string,\n    film: PropTypes.shape({\n        genre_ids: PropTypes.arrayOf(PropTypes.number),  \n        id: PropTypes.number.isRequired,\n        poster_path: PropTypes.string,\n        release_date: PropTypes.string,\n        title: PropTypes.string.isRequired,\n  }),\n};","import { useMemo } from \"react\";\n\nconst range = (start, end) => {\n    let length = end - start + 1;\n    /*\n        Create an array of certain length and set the elements within it from\n        start value to end value.\n    */\n    return Array.from({ length }, (_, idx) => idx + start);\n};\n\nexport const dotsBefore = \"<...\";\nexport const dotsAfter = \"...>\";\nexport const usePagination = ({\n    currentPage,\n    totalPageCount,\n    siblingCount = 1\n}) => {\n    const paginationRange = useMemo(() => {\n        // Pages count is determined as siblingCount + firstPage + lastPage + currentPage + 2*DOTS\n        const totalPageNumbers = siblingCount + 5;\n\n    // Case 1:\n        // If the number of pages is less than the page numbers we want to show in our paginationComponent, we return the range [1..totalPageCount]\n        if (totalPageNumbers >= totalPageCount) {\n            return range(1, totalPageCount);\n        }\n\n        // Calculate left and right sibling index and make sure they are within range 1 and totalPageCount\n        const leftSiblingIndex = Math.max(currentPage - siblingCount, 1);\n        const rightSiblingIndex = Math.min(currentPage + siblingCount, totalPageCount);\n\n        // We do not show dots just when there is just one page number to be inserted between the extremes of sibling and the page limits i.e 1 and totalPageCount. \n        // Hence we are using leftSiblingIndex > 2 and rightSiblingIndex < totalPageCount - 2\n        const shouldShowLeftDots = leftSiblingIndex > 2;\n        const shouldShowRightDots = rightSiblingIndex < totalPageCount - 2;\n\n        const firstPageIndex = 1;\n        const lastPageIndex = totalPageCount;\n\n    // Case 2: No left dots to show, but rights dots to be shown\n        if (!shouldShowLeftDots && shouldShowRightDots) {\n            let leftItemCount = 3 + 2 * siblingCount;\n            let leftRange = range(1, leftItemCount);\n            return [...leftRange, dotsAfter, totalPageCount];\n        }\n\n    // Case 3: No right dots to show, but left dots to be shown\n        if (shouldShowLeftDots && !shouldShowRightDots) {\n            let rightItemCount = 3 + 2 * siblingCount;\n            let rightRange = range(totalPageCount - rightItemCount + 1, totalPageCount);\n            return [firstPageIndex, dotsBefore, ...rightRange];\n        }\n        \n    // Case 4: Both left and right dots to be shown\n        if (shouldShowLeftDots && shouldShowRightDots) {\n            let middleRange = range(leftSiblingIndex, rightSiblingIndex);\n            return [firstPageIndex, dotsBefore, ...middleRange, dotsAfter, lastPageIndex];\n        }\n\n    }, [currentPage, totalPageCount, siblingCount]);\n\n    return paginationRange;\n};","import styled from \"styled-components\";\nimport { theme } from \"constants/theme\";\n\nexport const Container = styled.ul`\n    display: flex;\n    justify-content: center;\n    margin-bottom: 40px;\n\n    @media screen and (min-width: 768px) {\n        margin-bottom: 60px;\n    }\n`;\n\nexport const Item = styled.li`\n    min-height: 40px;\n    min-width: 40px;\n\n    &:not(:last-child) {\n        margin-right: 6px;\n        \n        @media screen and (min-width: 768px) {\n            margin-right: 8px;\n        }\n    }\n`;\n\nexport const Arrow = styled.li`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    min-height: 40px;\n    min-width: 40px;\n    border-radius: 5px;\n    background-color: #f7f7f7;\n    \n    &:hover,\n    &:focus {\n        cursor: pointer;\n        color: ${theme.colors.accent};\n    }\n`;\n\nexport const Number = styled.div`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n    width: 100%;\n    border-radius: 5px;\n\n    text-align: center;\n    font-size: 12px;\n    font-weight: 500;\n    line-height: 1.33;\n    background-color: ${({ current }) => current ? theme.colors.accent : \"transparent\"};\n    color: ${({ current }) => current ? theme.colors.main : \"inherit\"};\n\n    &:hover,\n    &:focus {\n        cursor: pointer;\n        color: ${theme.colors.accent};\n    }\n`;\n\nexport const Dots = styled.div`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n    width: 100%;\n    border-radius: 5px;\n`;","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport { usePagination, dotsBefore,  dotsAfter} from \"components/Pagination/usePagination\";\nimport { IoIosArrowRoundBack, IoIosMore, IoIosArrowRoundForward, } from \"react-icons/io\";\nimport { Container, Item, Number, Dots, Arrow } from \"components/Pagination/Pagination.styled\";\n\nexport const Pagination = ({currentPage, totalPageCount, onPageChange}) => {\n\n    const paginationRange = usePagination({currentPage, totalPageCount});\n\n    if (currentPage === 0 || paginationRange.length < 2) {\n        return null;\n    }\n\n    const onNext = () => {\n        onPageChange(currentPage + 1);\n    };\n\n    const onPrevious = () => {\n        onPageChange(currentPage - 1);\n    };\n\n    let lastPage = paginationRange[paginationRange.length - 1];\n\n    return (\n        <Container >\n            {currentPage !== 1 &&\n                <Arrow onClick={onPrevious}>\n                    <IoIosArrowRoundBack size={20}/>\n                </Arrow>}\n            \n            {paginationRange.map(pageNumber => {\n                return (\n                    <Item key={pageNumber}>\n                        {pageNumber === dotsBefore || pageNumber === dotsAfter\n                            ? <Dots><IoIosMore /></Dots>\n                            : <Number\n                                current={pageNumber === currentPage}\n                                onClick={() => onPageChange(pageNumber)}>\n                                {pageNumber}\n                            </Number>\n                        }\n                    </Item>\n                );\n            })}\n            {currentPage !== lastPage &&\n                <Arrow onClick={onNext}>\n                    <IoIosArrowRoundForward size={20} />\n                </Arrow>}\n        </Container>\n    );\n};\n\nPagination.propTypes = {\n    currentPage: PropTypes.number.isRequired,\n    totalPageCount: PropTypes.number.isRequired,\n    onPageChange: PropTypes.func.isRequired,\n};","import { useState, useEffect } from \"react\";\nimport { useSearchParams } from \"react-router-dom\";\n\nimport { fetchGenres, fetchFilms } from \"services/api-films-service\";\nimport { Wrapper } from \"pages/Home/Home.styled\";\nimport { FilmGallery } from \"components/FilmGallery/FilmGallery\";\nimport { Pagination } from \"components/Pagination/Pagination\";\n\n\nconst Home = () => {\n    const [searchParams, setSearchParams] = useSearchParams();\n    const query = searchParams.get(\"query\") ?? \"\";\n    const page = searchParams.get(\"page\") ?? \"1\";\n\n    const [films, setFilms] = useState([]);\n    const [totalPages, setTotalPages] = useState(1);\n    const [error, setError] = useState(false);\n\n    // Fetching genres\n    useEffect(() => {\n        async function getGenres() {\n            try {\n                const genres = await fetchGenres();\n                localStorage.setItem('genres', JSON.stringify(genres));\n            } catch (error) {\n                console.log(error.message);\n            }\n        };\n        getGenres();\n    }, []);\n    \n    // Fetching films\n    useEffect(() => {\n        async function getFilms() {\n            try {\n                const [films,  totalPages] = await fetchFilms(Number(page), query);\n                setFilms(films);\n                setTotalPages(totalPages);\n            } catch (error) {\n                setError(true);\n            }\n        };\n        getFilms();\n        window.scrollTo(0, 0);\n    }, [page, query]);\n\n    // Delete the error message\n    useEffect(() => {\n        if (error) {\n            setSearchParams({});\n            setTimeout(() => {setError(false) }, 3000);\n        }  \n    }, [error, setSearchParams]);\n\n    return (\n        films &&\n            <Wrapper>  \n                <FilmGallery\n                    error={error}\n                    films={films}/>\n                <Pagination\n                    currentPage={Number(page)}\n                    totalPageCount={totalPages}\n                    onPageChange={page => setSearchParams(query !== \"\" ? { query, page } : { page })}/>\n            </Wrapper>\n    );\n};\n\nexport default Home;","import axios from \"axios\";\n\nconst API_KEY = '115b567d77b04428b1251a93b22d9778';\n\nexport async function fetchFilms (page, query) {  \n    let URL = \"\";\n    if (query) {\n        URL = `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&query=${query}&page=${page}`;\n    } else {\n        URL = `https://api.themoviedb.org/3/trending/movie/day?api_key=${API_KEY}&page=${page}`;\n    }\n\n    const response = await axios.get(URL);\n    const results = response.data.results;\n\n    if (results.length === 0 && query) {\n      throw new Error();\n    }\n\n    return [results, response.data.total_pages];\n}\n\nexport async function fetchGenres() {\n    const URL = `https://api.themoviedb.org/3/genre/movie/list?api_key=${API_KEY}&language=en-US`;\n    const response = await axios.get(URL);\n\n    return response.data.genres;\n}\n\nexport async function fetchFilmByID(id) {\n    const URL = `https://api.themoviedb.org/3/movie/${id}?api_key=${API_KEY}&language=en-US`;\n    const response = await axios.get(URL);\n\n    return response.data;\n}\n\nexport async function fetchCast(id) {\n    const URL = `https://api.themoviedb.org/3/movie/${id}/credits?api_key=${API_KEY}&language=en-US`;\n    const response = await axios.get(URL);\n\n    return response.data.cast;\n;\n}\n\nexport async function fetchReviews(id) {\n    const URL = `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${API_KEY}&language=en-US&page=1`;\n    const response = await axios.get(URL);\n    const results = response.data.results;\n\n    if (results.length === 0) {\n      throw new Error(\"We don't have any reviews for this movie.\");\n    }\n    return results;\n;\n}"],"names":["Wrapper","styled","Container","Message","theme","GalleryTitle","Gallery","Card","StyledLink","Link","Img","Plug","Info","Title","Genres","genresList","filmGenresID","genresArray","JSON","parse","localStorage","getItem","filtredGenresArray","map","genreID","find","genre","id","name","length","slice","join","year","release_date","FilmCard","film","poster_path","title","genre_ids","location","useLocation","poster","srcSet","loading","src","alt","sizes","to","state","from","propType","PropTypes","FilmGallery","error","films","range","start","end","Array","_","idx","dotsBefore","dotsAfter","Item","Arrow","Number","current","Dots","Pagination","currentPage","totalPageCount","onPageChange","paginationRange","siblingCount","useMemo","leftSiblingIndex","Math","max","rightSiblingIndex","min","shouldShowLeftDots","shouldShowRightDots","firstPageIndex","lastPageIndex","leftRange","rightRange","middleRange","usePagination","lastPage","onClick","size","pageNumber","useSearchParams","searchParams","setSearchParams","query","get","page","useState","setFilms","totalPages","setTotalPages","setError","useEffect","fetchGenres","genres","setItem","stringify","console","log","message","getGenres","fetchFilms","getFilms","window","scrollTo","setTimeout","API_KEY","URL","axios","response","results","data","Error","total_pages","fetchFilmByID","fetchCast","cast","fetchReviews"],"sourceRoot":""}