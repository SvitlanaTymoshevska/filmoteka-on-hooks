"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[975],{1975:function(n,e,t){t.r(e),t.d(e,{default:function(){return un}});var r=t(5861),i=t(9439),a=t(7757),o=t.n(a),c=t(2791),s=t(1087),p=t(3263),u="115b567d77b04428b1251a93b22d9778";function d(n,e){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(o().mark((function n(e,t){var r,i,a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="",r=t?"https://api.themoviedb.org/3/search/movie?api_key=".concat(u,"&query=").concat(t,"&page=").concat(e):"https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(u,"&page=").concat(e),n.next=4,p.Z.get(r);case 4:if(i=n.sent,0!==(a=i.data.results).length||!t){n.next=8;break}throw new Error;case 8:return n.abrupt("return",[a,i.data.total_pages]);case 9:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function h(){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)(o().mark((function n(){var e,t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e="https://api.themoviedb.org/3/genre/movie/list?api_key=".concat(u,"&language=en-US"),n.next=3,p.Z.get(e);case 3:return t=n.sent,n.abrupt("return",t.data.genres);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var g,m,f,w,v,b,Z,y,j,P,k,_=t(2007),C=t.n(_),S=t(168),z=t(6444),q=t(6781),E=z.ZP.section(g||(g=(0,S.Z)(["\n  position: relative;\n  flex-grow: 1;\n"]))),N=z.ZP.div(m||(m=(0,S.Z)(["\n  max-width: 320px;\n  margin: 0 auto;\n  padding: 20px 20px 40px;\n  line-height: 1.35;\n\n  @media screen and (min-width: 768px) {\n    max-width: 768px;\n    padding: 60px 32px 60px;\n  }\n\n  @media screen and (min-width: 1280px) {\n    max-width: 1280px;\n    font-size: 20px;\n    line-height: 1.2;\n  }\n"]))),O=z.ZP.p(f||(f=(0,S.Z)(["\n  position: absolute;\n  top: -60px;\n  left: 50%;\n  transform: translate(-50%,-50%);\n  display: block; \n  text-align: center;\n  \n  color: ",";\n  font-weight: 400;\n  font-size: 14px;\n\n  @media screen and (min-width: 768px) {\n    top: -48px;\n  }\n"])),q.r.colors.warning),T=z.ZP.h2(w||(w=(0,S.Z)(["\n  display: none;\n"]))),F=z.ZP.ul(v||(v=(0,S.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n\n  @media screen and (min-width: 768px) {\n    flex-direction: row;\n    flex-wrap: wrap;\n    gap: 32px;\n  }\n\n  @media screen and (min-width: 1280px) {\n    column-gap: 16px;\n  }\n"]))),M=t(3433),R=z.ZP.li(b||(b=(0,S.Z)(["\n  transition: box-shadow ",";\n  width: 100%;\n\n  @media screen and (min-width: 768px) {\n    width: calc((100% - 32px) / 2);\n  }\n\n  @media screen and (min-width: 1280px) {\n    width: calc((100% - 32px) / 3);\n  }\n\n  &:hover {\n    cursor: pointer;\n    box-shadow: 0px 1px 1px rgba(0, 0, 0, 0.12),\n      0px 4px 4px rgba(0, 0, 0, 0.06), 1px 4px 6px rgba(0, 0, 0, 0.16);\n  }\n"])),q.r.transition.durationFunction),I=z.ZP.img(Z||(Z=(0,S.Z)(["\n  display: block;\n  width: 100%;\n  height: 398px;\n  border-radius: 5px;\n  margin-bottom: 10px;\n  object-fit: cover;\n\n  @media screen and (min-width: 768px) {\n    height: 455px;\n  }\n\n  @media screen and (min-width: 1280px) {\n    margin-bottom: 12px;\n    height: 574px;\n  }\n"]))),J=z.ZP.div(y||(y=(0,S.Z)(["\n  height: 398px;\n  margin-bottom: 10px;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ",";\n\n  @media screen and (min-width: 768px) {\n    height: 455px;\n  }\n\n  @media screen and (min-width: 1280px) {\n    margin-bottom: 12px;\n    height: 574px;\n  }\n"])),q.r.colors.backgroundHeader),A=z.ZP.div(j||(j=(0,S.Z)(["\n  padding: 0px 5px 5px;\n"]))),H=z.ZP.h2(P||(P=(0,S.Z)(["\n  margin: 0;\n  text-transform: uppercase;\n  line-height: 1.35;\n  font-size: 12px;\n  font-weight: 500;\n\n  @media screen and (min-width: 1280px) {\n    font-size: 20px;\n    line-height: 1.2;\n  }\n"]))),U=z.ZP.p(k||(k=(0,S.Z)(["\ncolor: ",";\n"])),q.r.colors.accent),Y=t(184),B=function(n){var e=n.film,t=e.poster_path,r=e.title,i=e.genre_ids,a=e.release_date,o=t?(0,Y.jsx)(I,{srcSet:"\n              https://image.tmdb.org/t/p/w300/".concat(t,"     300w,\n              https://image.tmdb.org/t/p/w500/").concat(t,"     500w,\n              https://image.tmdb.org/t/p/w780/").concat(t,"     780w,\n              https://image.tmdb.org/t/p/w1280/").concat(t,"    1280w,\n              https://image.tmdb.org/t/p/original/").concat(t," 2000w\n          "),loading:"lazy",src:"https://image.tmdb.org/t/p/w300/".concat(t),alt:"Poster of the film ".concat(r),sizes:"(max-width: 320px) 280px, (max-width: 768px) 340px, 400px"}):(0,Y.jsx)(J,{children:"Poster not found"});return(0,Y.jsxs)(R,{children:[o,(0,Y.jsxs)(A,{children:[(0,Y.jsx)(H,{children:r}),(0,Y.jsxs)(U,{children:[D(i),G(a)]})]})]})};B.propType={film:C().shape({genre_ids:C().arrayOf(C().number),poster_path:C().string,release_date:C().string,title:C().string.isRequired})};var D=function(n){var e=JSON.parse(localStorage.getItem("genres"));if(!e)return"unknown";var t=n.map((function(n){return e.find((function(e){return e.id===n})).name}));return(t.length>2?[].concat((0,M.Z)(t.slice(0,2)),["Otheres"]):(0,M.Z)(t)).join(", ")},G=function(n){var e="";return n?(e=" | "+(null===n||void 0===n?void 0:n.slice(0,4)),e):e},K=function(n){var e=n.error,t=n.films;return(0,Y.jsxs)(E,{children:[(0,Y.jsx)(T,{children:"Films gallery"}),e&&(0,Y.jsx)(O,{children:"Search result not successful. Enter the correct movie name and repeat."}),(0,Y.jsx)(N,{children:(0,Y.jsx)(F,{children:t.map((function(n){return(0,Y.jsx)(B,{film:n},n.id)}))})})]})};K.propType={error:C().string,film:C().shape({genre_ids:C().arrayOf(C().number),id:C().number.isRequired,poster_path:C().string,release_date:C().string,title:C().string.isRequired})};var L,Q,V,W,X,$=function(n,e){var t=e-n+1;return Array.from({length:t},(function(e,t){return t+n}))},nn="<...",en="...>",tn=t(4373),rn=z.ZP.ul(L||(L=(0,S.Z)(["\n    display: flex;\n    justify-content: center;\n    margin-bottom: 40px;\n\n    @media screen and (min-width: 768px) {\n        margin-bottom: 60px;\n    }\n"]))),an=z.ZP.li(Q||(Q=(0,S.Z)(["\n    min-height: 40px;\n    min-width: 40px;\n\n    &:not(:last-child) {\n        margin-right: 6px;\n        \n        @media screen and (min-width: 768px) {\n            margin-right: 8px;\n        }\n    }\n"]))),on=z.ZP.li(V||(V=(0,S.Z)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    min-height: 40px;\n    min-width: 40px;\n    border-radius: 5px;\n    background-color: #f7f7f7;\n    \n    &:hover,\n    &:focus {\n        cursor: pointer;\n        color: ",";\n    }\n"])),q.r.colors.accent),cn=z.ZP.div(W||(W=(0,S.Z)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n    width: 100%;\n    border-radius: 5px;\n\n    text-align: center;\n    font-size: 12px;\n    font-weight: 500;\n    line-height: 1.33;\n    background-color: ",";\n    color: ",";\n\n    &:hover,\n    &:focus {\n        cursor: pointer;\n        color: ",";\n    }\n"])),(function(n){return n.current?q.r.colors.accent:"transparent"}),(function(n){return n.current?q.r.colors.main:"inherit"}),q.r.colors.accent),sn=z.ZP.div(X||(X=(0,S.Z)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n    width: 100%;\n    border-radius: 5px;\n"]))),pn=function(n){var e=n.currentPage,t=n.totalPageCount,r=n.onPageChange,i=function(n){var e=n.currentPage,t=n.totalPageCount,r=n.siblingCount,i=void 0===r?1:r;return(0,c.useMemo)((function(){if(i+5>=t)return $(1,t);var n=Math.max(e-i,1),r=Math.min(e+i,t),a=n>2,o=r<t-2,c=1,s=t;if(!a&&o){var p=$(1,3+2*i);return[].concat((0,M.Z)(p),[en,t])}if(a&&!o){var u=$(t-(3+2*i)+1,t);return[c,nn].concat((0,M.Z)(u))}if(a&&o){var d=$(n,r);return[c,nn].concat((0,M.Z)(d),[en,s])}}),[e,t,i])}({currentPage:e,totalPageCount:t});if(0===e||i.length<2)return null;var a=i[i.length-1];return(0,Y.jsxs)(rn,{children:[1!==e&&(0,Y.jsx)(on,{onClick:function(){r(e-1)},children:(0,Y.jsx)(tn.PjY,{size:20})}),i.map((function(n){return(0,Y.jsx)(an,{children:n===nn||n===en?(0,Y.jsx)(sn,{children:(0,Y.jsx)(tn.mZq,{})}):(0,Y.jsx)(cn,{current:n===e,onClick:function(){return r(n)},children:n})},n)})),e!==a&&(0,Y.jsx)(on,{onClick:function(){r(e+1)},children:(0,Y.jsx)(tn.fNt,{size:20})})]})},un=function(){var n,e,t=(0,s.lr)(),a=(0,i.Z)(t,2),p=a[0],u=a[1],l=null!==(n=p.get("query"))&&void 0!==n?n:"",x=null!==(e=p.get("page"))&&void 0!==e?e:"1",g=(0,c.useState)([]),m=(0,i.Z)(g,2),f=m[0],w=m[1],v=(0,c.useState)(1),b=(0,i.Z)(v,2),Z=b[0],y=b[1],j=(0,c.useState)(!1),P=(0,i.Z)(j,2),k=P[0],_=P[1];return(0,c.useEffect)((function(){function n(){return(n=(0,r.Z)(o().mark((function n(){var e;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,h();case 3:e=n.sent,localStorage.setItem("genres",JSON.stringify(e)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0.message);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[]),(0,c.useEffect)((function(){function n(){return(n=(0,r.Z)(o().mark((function n(){var e,t,r,a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,d(Number(x),l);case 3:e=n.sent,t=(0,i.Z)(e,2),r=t[0],a=t[1],w(r),y(a),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),_(!0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})))).apply(this,arguments)}!function(){n.apply(this,arguments)}(),window.scrollTo(0,0)}),[x,l]),(0,c.useEffect)((function(){k&&(u({}),setTimeout((function(){_(!1)}),3e3))}),[k,u]),f&&(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(K,{error:k,films:f}),(0,Y.jsx)(pn,{currentPage:Number(x),totalPageCount:Z,onPageChange:function(n){return u(""!==l?{query:l,page:n}:{page:n})}})]})}}}]);
//# sourceMappingURL=975.941a1aab.chunk.js.map